package p168r4;

import android.util.SparseArray;
import java.nio.ByteBuffer;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashMap;
import java.util.Locale;
import java.util.Map;
import java.util.UUID;
/* renamed from: r4.q24 */
/* loaded from: classes2.dex */
public final class q24 implements a04 {

    /* renamed from: b0 */
    public static final g04 f29898b0 = l24.f27054a;

    /* renamed from: c0 */
    public static final byte[] f29899c0 = {49, 10, 48, 48, 58, 48, 48, 58, 48, 48, 44, 48, 48, 48, 32, 45, 45, 62, 32, 48, 48, 58, 48, 48, 58, 48, 48, 44, 48, 48, 48, 10};

    /* renamed from: d0 */
    public static final byte[] f29900d0 = C5979lc.m9713X("Format: Start, End, ReadOrder, Layer, Style, Name, MarginL, MarginR, MarginV, Effect, Text");

    /* renamed from: e0 */
    public static final byte[] f29901e0 = {68, 105, 97, 108, 111, 103, 117, 101, 58, 32, 48, 58, 48, 48, 58, 48, 48, 58, 48, 48, 44, 48, 58, 48, 48, 58, 48, 48, 58, 48, 48, 44};

    /* renamed from: f0 */
    public static final UUID f29902f0 = new UUID(72057594037932032L, -9223371306706625679L);

    /* renamed from: g0 */
    public static final Map<String, Integer> f29903g0;

    /* renamed from: A */
    public long f29904A;

    /* renamed from: B */
    public C5757fb f29905B;

    /* renamed from: C */
    public C5757fb f29906C;

    /* renamed from: D */
    public boolean f29907D;

    /* renamed from: E */
    public boolean f29908E;

    /* renamed from: F */
    public int f29909F;

    /* renamed from: G */
    public long f29910G;

    /* renamed from: H */
    public long f29911H;

    /* renamed from: I */
    public int f29912I;

    /* renamed from: J */
    public int f29913J;

    /* renamed from: K */
    public int[] f29914K;

    /* renamed from: L */
    public int f29915L;

    /* renamed from: M */
    public int f29916M;

    /* renamed from: N */
    public int f29917N;

    /* renamed from: O */
    public int f29918O;

    /* renamed from: P */
    public boolean f29919P;

    /* renamed from: Q */
    public int f29920Q;

    /* renamed from: R */
    public int f29921R;

    /* renamed from: S */
    public int f29922S;

    /* renamed from: T */
    public boolean f29923T;

    /* renamed from: U */
    public boolean f29924U;

    /* renamed from: V */
    public boolean f29925V;

    /* renamed from: W */
    public int f29926W;

    /* renamed from: X */
    public byte f29927X;

    /* renamed from: Y */
    public boolean f29928Y;

    /* renamed from: Z */
    public d04 f29929Z;

    /* renamed from: a */
    public final s24 f29930a;

    /* renamed from: a0 */
    public final j24 f29931a0;

    /* renamed from: b */
    public final SparseArray<o24> f29932b;

    /* renamed from: c */
    public final boolean f29933c;

    /* renamed from: d */
    public final C6423xb f29934d;

    /* renamed from: e */
    public final C6423xb f29935e;

    /* renamed from: f */
    public final C6423xb f29936f;

    /* renamed from: g */
    public final C6423xb f29937g;

    /* renamed from: h */
    public final C6423xb f29938h;

    /* renamed from: i */
    public final C6423xb f29939i;

    /* renamed from: j */
    public final C6423xb f29940j;

    /* renamed from: k */
    public final C6423xb f29941k;

    /* renamed from: l */
    public final C6423xb f29942l;

    /* renamed from: m */
    public final C6423xb f29943m;

    /* renamed from: n */
    public ByteBuffer f29944n;

    /* renamed from: o */
    public long f29945o;

    /* renamed from: p */
    public long f29946p;

    /* renamed from: q */
    public long f29947q;

    /* renamed from: r */
    public long f29948r;

    /* renamed from: s */
    public long f29949s;

    /* renamed from: t */
    public o24 f29950t;

    /* renamed from: u */
    public boolean f29951u;

    /* renamed from: v */
    public int f29952v;

    /* renamed from: w */
    public long f29953w;

    /* renamed from: x */
    public boolean f29954x;

    /* renamed from: y */
    public long f29955y;

    /* renamed from: z */
    public long f29956z;

    /* renamed from: n */
    public static final int m8054n(int i) {
        switch (i) {
            case 131:
            case 136:
            case 155:
            case 159:
            case 176:
            case 179:
            case 186:
            case 215:
            case 231:
            case 238:
            case 241:
            case 251:
            case 16871:
            case 16980:
            case 17029:
            case 17143:
            case 18401:
            case 18408:
            case 20529:
            case 20530:
            case 21420:
            case 21432:
            case 21680:
            case 21682:
            case 21690:
            case 21930:
            case 21945:
            case 21946:
            case 21947:
            case 21948:
            case 21949:
            case 21998:
            case 22186:
            case 22203:
            case 25188:
            case 30321:
            case 2352003:
            case 2807729:
                return 2;
            case 134:
            case 17026:
            case 21358:
            case 2274716:
                return 3;
            case 160:
            case 166:
            case 174:
            case 183:
            case 187:
            case 224:
            case 225:
            case 16868:
            case 18407:
            case 19899:
            case 20532:
            case 20533:
            case 21936:
            case 21968:
            case 25152:
            case 28032:
            case 30113:
            case 30320:
            case 290298740:
            case 357149030:
            case 374648427:
            case 408125543:
            case 440786851:
            case 475249515:
            case 524531317:
                return 1;
            case 161:
            case 163:
            case 165:
            case 16877:
            case 16981:
            case 18402:
            case 21419:
            case 25506:
            case 30322:
                return 4;
            case 181:
            case 17545:
            case 21969:
            case 21970:
            case 21971:
            case 21972:
            case 21973:
            case 21974:
            case 21975:
            case 21976:
            case 21977:
            case 21978:
            case 30323:
            case 30324:
            case 30325:
                return 5;
            default:
                return 0;
        }
    }

    /* renamed from: o */
    public static final boolean m8053o(int i) {
        return i == 357149030 || i == 524531317 || i == 475249515 || i == 374648427;
    }

    /* renamed from: w */
    public static byte[] m8045w(long j, String str, long j2) {
        boolean z;
        if (j != -9223372036854775807L) {
            z = true;
        } else {
            z = false;
        }
        C5903ja.m10374a(z);
        int i = (int) (j / 3600000000L);
        long j3 = j - ((i * 3600) * 1000000);
        int i2 = (int) (j3 / 60000000);
        long j4 = j3 - ((i2 * 60) * 1000000);
        int i3 = (int) (j4 / 1000000);
        return C5979lc.m9713X(String.format(Locale.US, str, Integer.valueOf(i), Integer.valueOf(i2), Integer.valueOf(i3), Integer.valueOf((int) ((j4 - (i3 * 1000000)) / j2))));
    }

    /* renamed from: z */
    public static int[] m8042z(int[] iArr, int i) {
        if (iArr == null) {
            return new int[i];
        }
        int length = iArr.length;
        return length >= i ? iArr : new int[Math.max(length + length, i)];
    }

    @Override // p168r4.a04
    /* renamed from: e */
    public final boolean mo4475e(b04 b04Var) {
        return new r24().m7621a(b04Var);
    }

    @Override // p168r4.a04
    /* renamed from: f */
    public final int mo4474f(b04 b04Var, w04 w04Var) {
        this.f29908E = false;
        while (!this.f29908E) {
            if (this.f29931a0.m10430c(b04Var)) {
                long mo5954p = b04Var.mo5954p();
                if (this.f29954x) {
                    this.f29956z = mo5954p;
                    w04Var.f33004a = this.f29955y;
                    this.f29954x = false;
                    return 1;
                } else if (this.f29951u) {
                    long j = this.f29956z;
                    if (j != -1) {
                        w04Var.f33004a = j;
                        this.f29956z = -1L;
                        return 1;
                    }
                }
            } else {
                for (int i = 0; i < this.f29932b.size(); i++) {
                    o24 valueAt = this.f29932b.valueAt(i);
                    o24.m8915e(valueAt);
                    p24 p24Var = valueAt.f28796T;
                    if (p24Var != null) {
                        p24Var.m8497d(valueAt);
                    }
                }
                return -1;
            }
        }
        return 0;
    }

    @Override // p168r4.a04
    /* renamed from: h */
    public final void mo4473h(d04 d04Var) {
        this.f29929Z = d04Var;
    }

    /* renamed from: p */
    public final void m8052p(int i) {
        if (this.f29950t != null) {
            return;
        }
        StringBuilder sb = new StringBuilder(43);
        sb.append("Element ");
        sb.append(i);
        sb.append(" must be in a TrackEntry");
        throw C5973l6.m9787b(sb.toString(), null);
    }

    /* renamed from: q */
    public final void m8051q(int i) {
        if (this.f29905B == null || this.f29906C == null) {
            StringBuilder sb = new StringBuilder(37);
            sb.append("Element ");
            sb.append(i);
            sb.append(" must be in a Cues");
            throw C5973l6.m9787b(sb.toString(), null);
        }
    }

    /* renamed from: u */
    public final void m8047u() {
        this.f29920Q = 0;
        this.f29921R = 0;
        this.f29922S = 0;
        this.f29923T = false;
        this.f29924U = false;
        this.f29925V = false;
        this.f29926W = 0;
        this.f29927X = (byte) 0;
        this.f29928Y = false;
        this.f29939i.m5410i(0);
    }

    /* renamed from: v */
    public final void m8046v(b04 b04Var, byte[] bArr, int i) {
        int length = bArr.length;
        int i2 = i + 32;
        if (this.f29940j.m5401r() < i2) {
            C6423xb c6423xb = this.f29940j;
            byte[] copyOf = Arrays.copyOf(bArr, i2 + i);
            c6423xb.m5409j(copyOf, copyOf.length);
        } else {
            System.arraycopy(bArr, 0, this.f29940j.m5402q(), 0, 32);
        }
        ((vz3) b04Var).mo5961f(this.f29940j.m5402q(), 32, i, false);
        this.f29940j.m5403p(0);
        this.f29940j.m5405n(i2);
    }

    static {
        HashMap hashMap = new HashMap();
        hashMap.put("htc_video_rotA-000", 0);
        hashMap.put("htc_video_rotA-090", 90);
        hashMap.put("htc_video_rotA-180", 180);
        hashMap.put("htc_video_rotA-270", 270);
        f29903g0 = Collections.unmodifiableMap(hashMap);
    }

    public q24(int i) {
        j24 j24Var = new j24();
        this.f29946p = -1L;
        this.f29947q = -9223372036854775807L;
        this.f29948r = -9223372036854775807L;
        this.f29949s = -9223372036854775807L;
        this.f29955y = -1L;
        this.f29956z = -1L;
        this.f29904A = -9223372036854775807L;
        this.f29931a0 = j24Var;
        j24Var.m10432a(new m24(this, null));
        this.f29933c = true;
        this.f29930a = new s24();
        this.f29932b = new SparseArray<>();
        this.f29936f = new C6423xb(4);
        this.f29937g = new C6423xb(ByteBuffer.allocate(4).putInt(-1).array());
        this.f29938h = new C6423xb(4);
        this.f29934d = new C6423xb(C6053nb.f28240a);
        this.f29935e = new C6423xb(4);
        this.f29939i = new C6423xb();
        this.f29940j = new C6423xb();
        this.f29941k = new C6423xb(8);
        this.f29942l = new C6423xb();
        this.f29943m = new C6423xb();
        this.f29914K = new int[1];
    }

    /* renamed from: d */
    public final void m8060d(int i, long j, long j2) {
        C5903ja.m10370e(this.f29929Z);
        if (i != 160) {
            if (i != 174) {
                if (i != 187) {
                    if (i != 19899) {
                        if (i != 20533) {
                            if (i != 21968) {
                                if (i != 408125543) {
                                    if (i != 475249515) {
                                        if (i == 524531317 && !this.f29951u) {
                                            if (this.f29933c && this.f29955y != -1) {
                                                this.f29954x = true;
                                                return;
                                            }
                                            this.f29929Z.mo10798j(new y04(this.f29949s, 0L));
                                            this.f29951u = true;
                                            return;
                                        }
                                        return;
                                    }
                                    this.f29905B = new C5757fb(32);
                                    this.f29906C = new C5757fb(32);
                                    return;
                                }
                                long j3 = this.f29946p;
                                if (j3 != -1 && j3 != j) {
                                    throw C5973l6.m9787b("Multiple Segment elements not supported", null);
                                }
                                this.f29946p = j;
                                this.f29945o = j2;
                                return;
                            }
                            m8052p(i);
                            this.f29950t.f28825x = true;
                            return;
                        }
                        m8052p(i);
                        this.f29950t.f28809h = true;
                        return;
                    }
                    this.f29952v = -1;
                    this.f29953w = -1L;
                    return;
                }
                this.f29907D = false;
                return;
            }
            this.f29950t = new o24(null);
            return;
        }
        this.f29919P = false;
    }

    /* JADX WARN: Can't fix incorrect switch cases order, some code will duplicate */
    /* JADX WARN: Code restructure failed: missing block: B:134:0x0252, code lost:
        if (r3.equals("V_AV1") != false) goto L95;
     */
    /* renamed from: g */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void m8059g(int r22) {
        /*
            Method dump skipped, instructions count: 1094
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: p168r4.q24.m8059g(int):void");
    }

    /* renamed from: j */
    public final void m8058j(int i, long j) {
        if (i != 20529) {
            if (i != 20530) {
                boolean z = false;
                switch (i) {
                    case 131:
                        m8052p(i);
                        this.f29950t.f28805d = (int) j;
                        return;
                    case 136:
                        m8052p(i);
                        o24 o24Var = this.f29950t;
                        if (j == 1) {
                            z = true;
                        }
                        o24Var.f28798V = z;
                        return;
                    case 155:
                        this.f29911H = m8043y(j);
                        return;
                    case 159:
                        m8052p(i);
                        this.f29950t.f28791O = (int) j;
                        return;
                    case 176:
                        m8052p(i);
                        this.f29950t.f28814m = (int) j;
                        return;
                    case 179:
                        m8051q(i);
                        this.f29905B.m11593a(m8043y(j));
                        return;
                    case 186:
                        m8052p(i);
                        this.f29950t.f28815n = (int) j;
                        return;
                    case 215:
                        m8052p(i);
                        this.f29950t.f28804c = (int) j;
                        return;
                    case 231:
                        this.f29904A = m8043y(j);
                        return;
                    case 238:
                        this.f29918O = (int) j;
                        return;
                    case 241:
                        if (!this.f29907D) {
                            m8051q(i);
                            this.f29906C.m11593a(j);
                            this.f29907D = true;
                            return;
                        }
                        return;
                    case 251:
                        this.f29919P = true;
                        return;
                    case 16871:
                        m8052p(i);
                        o24.m8919a(this.f29950t, (int) j);
                        return;
                    case 16980:
                        if (j != 3) {
                            StringBuilder sb = new StringBuilder(50);
                            sb.append("ContentCompAlgo ");
                            sb.append(j);
                            sb.append(" not supported");
                            throw C5973l6.m9787b(sb.toString(), null);
                        }
                        return;
                    case 17029:
                        if (j < 1 || j > 2) {
                            StringBuilder sb2 = new StringBuilder(53);
                            sb2.append("DocTypeReadVersion ");
                            sb2.append(j);
                            sb2.append(" not supported");
                            throw C5973l6.m9787b(sb2.toString(), null);
                        }
                        return;
                    case 17143:
                        if (j != 1) {
                            StringBuilder sb3 = new StringBuilder(50);
                            sb3.append("EBMLReadVersion ");
                            sb3.append(j);
                            sb3.append(" not supported");
                            throw C5973l6.m9787b(sb3.toString(), null);
                        }
                        return;
                    case 18401:
                        if (j != 5) {
                            StringBuilder sb4 = new StringBuilder(49);
                            sb4.append("ContentEncAlgo ");
                            sb4.append(j);
                            sb4.append(" not supported");
                            throw C5973l6.m9787b(sb4.toString(), null);
                        }
                        return;
                    case 18408:
                        if (j != 1) {
                            StringBuilder sb5 = new StringBuilder(56);
                            sb5.append("AESSettingsCipherMode ");
                            sb5.append(j);
                            sb5.append(" not supported");
                            throw C5973l6.m9787b(sb5.toString(), null);
                        }
                        return;
                    case 21420:
                        this.f29953w = j + this.f29946p;
                        return;
                    case 21432:
                        m8052p(i);
                        int i2 = (int) j;
                        if (i2 != 0) {
                            if (i2 != 1) {
                                if (i2 != 3) {
                                    if (i2 == 15) {
                                        this.f29950t.f28824w = 3;
                                        return;
                                    }
                                    return;
                                }
                                this.f29950t.f28824w = 1;
                                return;
                            }
                            this.f29950t.f28824w = 2;
                            return;
                        }
                        this.f29950t.f28824w = 0;
                        return;
                    case 21680:
                        m8052p(i);
                        this.f29950t.f28816o = (int) j;
                        return;
                    case 21682:
                        m8052p(i);
                        this.f29950t.f28818q = (int) j;
                        return;
                    case 21690:
                        m8052p(i);
                        this.f29950t.f28817p = (int) j;
                        return;
                    case 21930:
                        m8052p(i);
                        o24 o24Var2 = this.f29950t;
                        if (j == 1) {
                            z = true;
                        }
                        o24Var2.f28797U = z;
                        return;
                    case 21998:
                        m8052p(i);
                        this.f29950t.f28807f = (int) j;
                        return;
                    case 22186:
                        m8052p(i);
                        this.f29950t.f28794R = j;
                        return;
                    case 22203:
                        m8052p(i);
                        this.f29950t.f28795S = j;
                        return;
                    case 25188:
                        m8052p(i);
                        this.f29950t.f28792P = (int) j;
                        return;
                    case 30321:
                        m8052p(i);
                        int i3 = (int) j;
                        if (i3 != 0) {
                            if (i3 != 1) {
                                if (i3 != 2) {
                                    if (i3 == 3) {
                                        this.f29950t.f28819r = 3;
                                        return;
                                    }
                                    return;
                                }
                                this.f29950t.f28819r = 2;
                                return;
                            }
                            this.f29950t.f28819r = 1;
                            return;
                        }
                        this.f29950t.f28819r = 0;
                        return;
                    case 2352003:
                        m8052p(i);
                        this.f29950t.f28806e = (int) j;
                        return;
                    case 2807729:
                        this.f29947q = j;
                        return;
                    default:
                        switch (i) {
                            case 21945:
                                m8052p(i);
                                int i4 = (int) j;
                                if (i4 != 1) {
                                    if (i4 == 2) {
                                        this.f29950t.f28777A = 1;
                                        return;
                                    }
                                    return;
                                }
                                this.f29950t.f28777A = 2;
                                return;
                            case 21946:
                                m8052p(i);
                                int m12924b = av3.m12924b((int) j);
                                if (m12924b != -1) {
                                    this.f29950t.f28827z = m12924b;
                                    return;
                                }
                                return;
                            case 21947:
                                m8052p(i);
                                this.f29950t.f28825x = true;
                                int m12925a = av3.m12925a((int) j);
                                if (m12925a != -1) {
                                    this.f29950t.f28826y = m12925a;
                                    return;
                                }
                                return;
                            case 21948:
                                m8052p(i);
                                this.f29950t.f28778B = (int) j;
                                return;
                            case 21949:
                                m8052p(i);
                                this.f29950t.f28779C = (int) j;
                                return;
                            default:
                                return;
                        }
                }
            } else if (j != 1) {
                StringBuilder sb6 = new StringBuilder(55);
                sb6.append("ContentEncodingScope ");
                sb6.append(j);
                sb6.append(" not supported");
                throw C5973l6.m9787b(sb6.toString(), null);
            }
        } else if (j == 0) {
        } else {
            StringBuilder sb7 = new StringBuilder(55);
            sb7.append("ContentEncodingOrder ");
            sb7.append(j);
            sb7.append(" not supported");
            throw C5973l6.m9787b(sb7.toString(), null);
        }
    }

    /* renamed from: k */
    public final void m8057k(int i, double d) {
        if (i != 181) {
            if (i != 17545) {
                switch (i) {
                    case 21969:
                        m8052p(i);
                        this.f29950t.f28780D = (float) d;
                        return;
                    case 21970:
                        m8052p(i);
                        this.f29950t.f28781E = (float) d;
                        return;
                    case 21971:
                        m8052p(i);
                        this.f29950t.f28782F = (float) d;
                        return;
                    case 21972:
                        m8052p(i);
                        this.f29950t.f28783G = (float) d;
                        return;
                    case 21973:
                        m8052p(i);
                        this.f29950t.f28784H = (float) d;
                        return;
                    case 21974:
                        m8052p(i);
                        this.f29950t.f28785I = (float) d;
                        return;
                    case 21975:
                        m8052p(i);
                        this.f29950t.f28786J = (float) d;
                        return;
                    case 21976:
                        m8052p(i);
                        this.f29950t.f28787K = (float) d;
                        return;
                    case 21977:
                        m8052p(i);
                        this.f29950t.f28788L = (float) d;
                        return;
                    case 21978:
                        m8052p(i);
                        this.f29950t.f28789M = (float) d;
                        return;
                    default:
                        switch (i) {
                            case 30323:
                                m8052p(i);
                                this.f29950t.f28820s = (float) d;
                                return;
                            case 30324:
                                m8052p(i);
                                this.f29950t.f28821t = (float) d;
                                return;
                            case 30325:
                                m8052p(i);
                                this.f29950t.f28822u = (float) d;
                                return;
                            default:
                                return;
                        }
                }
            }
            this.f29948r = (long) d;
            return;
        }
        m8052p(i);
        this.f29950t.f28793Q = (int) d;
    }

    /* renamed from: l */
    public final void m8056l(int i, String str) {
        if (i != 134) {
            if (i != 17026) {
                if (i != 21358) {
                    if (i == 2274716) {
                        m8052p(i);
                        o24.m8917c(this.f29950t, str);
                        return;
                    }
                    return;
                }
                m8052p(i);
                this.f29950t.f28802a = str;
                return;
            } else if (!"webm".equals(str) && !"matroska".equals(str)) {
                StringBuilder sb = new StringBuilder(str.length() + 22);
                sb.append("DocType ");
                sb.append(str);
                sb.append(" not supported");
                throw C5973l6.m9787b(sb.toString(), null);
            } else {
                return;
            }
        }
        m8052p(i);
        this.f29950t.f28803b = str;
    }

    /* JADX WARN: Code restructure failed: missing block: B:101:0x0284, code lost:
        throw p168r4.C5973l6.m9787b("EBML lacing sample size out of range.", null);
     */
    /* renamed from: m */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void m8055m(int r19, int r20, p168r4.b04 r21) {
        /*
            Method dump skipped, instructions count: 815
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: p168r4.q24.m8055m(int, int, r4.b04):void");
    }

    /* JADX WARN: Removed duplicated region for block: B:29:0x0077  */
    /* JADX WARN: Removed duplicated region for block: B:33:0x008a  */
    /* JADX WARN: Removed duplicated region for block: B:37:0x00a6  */
    /* JADX WARN: Removed duplicated region for block: B:44:0x00d2  */
    /* JADX WARN: Removed duplicated region for block: B:52:0x00b9 A[EDGE_INSN: B:52:0x00b9->B:41:0x00b9 ?: BREAK  , SYNTHETIC] */
    /* renamed from: r */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void m8050r(p168r4.o24 r17, long r18, int r20, int r21, int r22) {
        /*
            Method dump skipped, instructions count: 254
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: p168r4.q24.m8050r(r4.o24, long, int, int, int):void");
    }

    /* renamed from: s */
    public final void m8049s(b04 b04Var, int i) {
        if (this.f29936f.m5406m() >= i) {
            return;
        }
        if (this.f29936f.m5401r() < i) {
            C6423xb c6423xb = this.f29936f;
            int m5401r = c6423xb.m5401r();
            c6423xb.m5408k(Math.max(m5401r + m5401r, i));
        }
        ((vz3) b04Var).mo5961f(this.f29936f.m5402q(), this.f29936f.m5406m(), i - this.f29936f.m5406m(), false);
        this.f29936f.m5405n(i);
    }

    /* renamed from: t */
    public final int m8048t(b04 b04Var, o24 o24Var, int i) {
        int i2;
        if ("S_TEXT/UTF8".equals(o24Var.f28803b)) {
            m8046v(b04Var, f29899c0, i);
            int i3 = this.f29921R;
            m8047u();
            return i3;
        } else if ("S_TEXT/ASS".equals(o24Var.f28803b)) {
            m8046v(b04Var, f29901e0, i);
            int i4 = this.f29921R;
            m8047u();
            return i4;
        } else {
            d14 d14Var = o24Var.f28800X;
            boolean z = true;
            if (!this.f29923T) {
                if (o24Var.f28809h) {
                    this.f29917N &= -1073741825;
                    int i5 = 128;
                    if (!this.f29924U) {
                        ((vz3) b04Var).mo5961f(this.f29936f.m5402q(), 0, 1, false);
                        this.f29920Q++;
                        if ((this.f29936f.m5402q()[0] & 128) != 128) {
                            this.f29927X = this.f29936f.m5402q()[0];
                            this.f29924U = true;
                        } else {
                            throw C5973l6.m9787b("Extension bit is set in signal byte", null);
                        }
                    }
                    byte b = this.f29927X;
                    if ((b & 1) == 1) {
                        int i6 = b & 2;
                        this.f29917N |= 1073741824;
                        if (!this.f29928Y) {
                            ((vz3) b04Var).mo5961f(this.f29941k.m5402q(), 0, 8, false);
                            this.f29920Q += 8;
                            this.f29928Y = true;
                            byte[] m5402q = this.f29936f.m5402q();
                            if (i6 != 2) {
                                i5 = 0;
                            }
                            m5402q[0] = (byte) (i5 | 8);
                            this.f29936f.m5403p(0);
                            d14Var.mo4007c(this.f29936f, 1, 1);
                            this.f29921R++;
                            this.f29941k.m5403p(0);
                            d14Var.mo4007c(this.f29941k, 8, 1);
                            this.f29921R += 8;
                        }
                        if (i6 == 2) {
                            if (!this.f29925V) {
                                ((vz3) b04Var).mo5961f(this.f29936f.m5402q(), 0, 1, false);
                                this.f29920Q++;
                                this.f29936f.m5403p(0);
                                this.f29926W = this.f29936f.m5397v();
                                this.f29925V = true;
                            }
                            int i7 = this.f29926W * 4;
                            this.f29936f.m5410i(i7);
                            ((vz3) b04Var).mo5961f(this.f29936f.m5402q(), 0, i7, false);
                            this.f29920Q += i7;
                            int i8 = (this.f29926W >> 1) + 1;
                            int i9 = (i8 * 6) + 2;
                            ByteBuffer byteBuffer = this.f29944n;
                            if (byteBuffer == null || byteBuffer.capacity() < i9) {
                                this.f29944n = ByteBuffer.allocate(i9);
                            }
                            this.f29944n.position(0);
                            this.f29944n.putShort((short) i8);
                            int i10 = 0;
                            int i11 = 0;
                            while (true) {
                                i2 = this.f29926W;
                                if (i10 >= i2) {
                                    break;
                                }
                                int m5417b = this.f29936f.m5417b();
                                if (i10 % 2 == 0) {
                                    this.f29944n.putShort((short) (m5417b - i11));
                                } else {
                                    this.f29944n.putInt(m5417b - i11);
                                }
                                i10++;
                                i11 = m5417b;
                            }
                            int i12 = (i - this.f29920Q) - i11;
                            if ((i2 & 1) == 1) {
                                this.f29944n.putInt(i12);
                            } else {
                                this.f29944n.putShort((short) i12);
                                this.f29944n.putInt(0);
                            }
                            this.f29942l.m5409j(this.f29944n.array(), i9);
                            d14Var.mo4007c(this.f29942l, i9, 1);
                            this.f29921R += i9;
                        }
                    }
                } else {
                    byte[] bArr = o24Var.f28810i;
                    if (bArr != null) {
                        this.f29939i.m5409j(bArr, bArr.length);
                    }
                }
                if (o24Var.f28807f > 0) {
                    this.f29917N |= 268435456;
                    this.f29943m.m5410i(0);
                    this.f29936f.m5410i(4);
                    this.f29936f.m5402q()[0] = (byte) ((i >> 24) & 255);
                    this.f29936f.m5402q()[1] = (byte) ((i >> 16) & 255);
                    this.f29936f.m5402q()[2] = (byte) ((i >> 8) & 255);
                    this.f29936f.m5402q()[3] = (byte) (i & 255);
                    d14Var.mo4007c(this.f29936f, 4, 2);
                    this.f29921R += 4;
                }
                this.f29923T = true;
            }
            int m5406m = i + this.f29939i.m5406m();
            if (!"V_MPEG4/ISO/AVC".equals(o24Var.f28803b) && !"V_MPEGH/ISO/HEVC".equals(o24Var.f28803b)) {
                if (o24Var.f28796T != null) {
                    if (this.f29939i.m5406m() != 0) {
                        z = false;
                    }
                    C5903ja.m10371d(z);
                    o24Var.f28796T.m8499b(b04Var);
                }
                while (true) {
                    int i13 = this.f29920Q;
                    if (i13 >= m5406m) {
                        break;
                    }
                    int m8044x = m8044x(b04Var, d14Var, m5406m - i13);
                    this.f29920Q += m8044x;
                    this.f29921R += m8044x;
                }
            } else {
                byte[] m5402q2 = this.f29935e.m5402q();
                m5402q2[0] = 0;
                m5402q2[1] = 0;
                m5402q2[2] = 0;
                int i14 = o24Var.f28801Y;
                int i15 = 4 - i14;
                while (this.f29920Q < m5406m) {
                    int i16 = this.f29922S;
                    if (i16 == 0) {
                        int min = Math.min(i14, this.f29939i.m5407l());
                        ((vz3) b04Var).mo5961f(m5402q2, i15 + min, i14 - min, false);
                        if (min > 0) {
                            this.f29939i.m5398u(m5402q2, i15, min);
                        }
                        this.f29920Q += i14;
                        this.f29935e.m5403p(0);
                        this.f29922S = this.f29935e.m5417b();
                        this.f29934d.m5403p(0);
                        b14.m12888b(d14Var, this.f29934d, 4);
                        this.f29921R += 4;
                    } else {
                        int m8044x2 = m8044x(b04Var, d14Var, i16);
                        this.f29920Q += m8044x2;
                        this.f29921R += m8044x2;
                        this.f29922S -= m8044x2;
                    }
                }
            }
            if ("A_VORBIS".equals(o24Var.f28803b)) {
                this.f29937g.m5403p(0);
                b14.m12888b(d14Var, this.f29937g, 4);
                this.f29921R += 4;
            }
            int i17 = this.f29921R;
            m8047u();
            return i17;
        }
    }

    /* renamed from: x */
    public final int m8044x(b04 b04Var, d14 d14Var, int i) {
        int m5407l = this.f29939i.m5407l();
        if (m5407l > 0) {
            int min = Math.min(i, m5407l);
            b14.m12888b(d14Var, this.f29939i, min);
            return min;
        }
        return b14.m12889a(d14Var, b04Var, i, false);
    }

    /* renamed from: y */
    public final long m8043y(long j) {
        long j2 = this.f29947q;
        if (j2 != -9223372036854775807L) {
            return C5979lc.m9698h(j, j2, 1000L);
        }
        throw C5973l6.m9787b("Can't scale timecode prior to timecodeScale being set.", null);
    }

    @Override // p168r4.a04
    /* renamed from: i */
    public final void mo4472i(long j, long j2) {
        this.f29904A = -9223372036854775807L;
        this.f29909F = 0;
        this.f29931a0.m10431b();
        this.f29930a.m7231a();
        m8047u();
        for (int i = 0; i < this.f29932b.size(); i++) {
            p24 p24Var = this.f29932b.valueAt(i).f28796T;
            if (p24Var != null) {
                p24Var.m8500a();
            }
        }
    }
}
